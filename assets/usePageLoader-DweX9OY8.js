import{r as s}from"./index-B-9K1Eol.js";const w=(t=[],o=300)=>{const[f,r]=s.useState(!0),[l,d]=s.useState(0),[c,h]=s.useState(null),u=s.useCallback(async()=>{if(t.length===0){setTimeout(()=>r(!1),o);return}let a=0;t.length;const p=e=>new Promise(g=>{const n=new Image;n.onload=()=>{a++,d(a),g({src:e,status:"loaded"})},n.onerror=()=>{a++,d(a),g({src:e,status:"error"})},n.src=e});try{await Promise.all(t.map(p)),setTimeout(()=>r(!1),o)}catch(e){h(e),r(!1)}},[t,o]);return s.useEffect(()=>{u()},[u]),{isLoading:f,loadedCount:l,totalImages:t.length,progress:t.length>0?l/t.length*100:100,error:c}};export{w as u};
